(this["webpackJsonpthreejs-journey-level-1"]=this["webpackJsonpthreejs-journey-level-1"]||[]).push([[0],{58:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var r=a(31),n=a(4),o=a(72),c=(a(58),a(19)),i=a(12),s=a(11),j=a(10),u=a(3),l=a(68),b=a(70),d=a(15),h=a(69),p=(a(23),a(8));a(66);a(71);var m=a(67);var O=function(){var e=Object(n.useState)("PC"),t=Object(j.a)(e,2),a=t[0],r=t[1],o=function(){window.innerWidth>768&&r("PC"),navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?r("mobile"):window.innerWidth>576?r("tablet"):r("mobile")};return Object(n.useEffect)((function(){return window.addEventListener("resize",o),function(){window.removeEventListener("resize",o)}}),[]),a};function f(e){var t=e.keys,a=e._ready,r=e._setReady,o=e.start,c=e.clicked,i=e.props,l=O(),b=t.forward,f=t.backward,g=t.left,x=t.right,y=(t.jump,t.buttonB),v=t.buttonR,w=t.buttonG,M=(t.Escape,Object(n.useRef)()),P=(Object(n.useRef)(),Object(n.useRef)(),Object(n.useRef)()),k=Object(n.useRef)(),I=Object(n.useRef)(),S=Object(n.useRef)(),A=new u.Vector3;Object(d.d)((function(e){o?"PC"===l?(e.camera.position.lerp(A.set(0,.2,1.2),.05),e.camera.lookAt(0,.04,0),e.camera.updateProjectionMatrix()):(M.current.position.lerp(A.set(5,1,0),.05),e.camera.position.lerp(A.set(0,1,10),.05),e.camera.lookAt(0,.4,0),e.camera.updateProjectionMatrix()):(e.camera.position.lerp(A.set(4.5,4,7),.05),e.camera.lookAt(0,0,0),e.camera.updateProjectionMatrix(),M.current.position.lerp(A.set(0,0,0),.05))}));var R=Object(n.useState)((function(){return Object.assign(document.createElement("video"),{src:"/drei.mp4",crossOrigin:"Anonymous",loop:!0})})),_=Object(j.a)(R,1)[0];Object(n.useEffect)((function(){c&&_.play()}),[_,c]);var B=Object(h.a)("/arcade_Draco.glb"),E=B.nodes;B.materials;return Object(p.jsxs)("group",Object(s.a)(Object(s.a)({ref:M},i),{},{dispose:null,children:[Object(p.jsx)(m.a,{scale:.3,rotation:[0,Math.PI/2,0],position:[0,1.35,0],transform:!0,children:Object(p.jsxs)("div",{className:"annotation",children:["check ",Object(p.jsx)("span",{style:{fontSize:"1.5em"},children:"\ud83e\udd72"})]})}),Object(p.jsx)("mesh",{geometry:E.arcade.geometry,material:E.arcade.material,position:[.25,.69,-.01],rotation:[Math.PI/2,-Math.PI/9,0]}),Object(p.jsx)("mesh",{ref:P,geometry:E.Button_PP.geometry,material:E.Button_PP.material,position:[.24,y?.665:.67,.15],rotation:[Math.PI/2,-Math.PI/9,0]}),Object(p.jsx)("mesh",{geometry:E.joy.geometry,material:E.joy.material,position:[.25,.68,-.12],rotation:[Math.PI/2,-Math.PI/9,0]}),Object(p.jsx)("mesh",{ref:I,geometry:E.Button_GG.geometry,material:E.Button_GG.material,position:[.24,w?.665:.67,.02],rotation:[Math.PI/2,-Math.PI/9,0]}),Object(p.jsx)("mesh",{ref:k,geometry:E.Button_YY.geometry,material:E.Button_YY.material,position:[.24,v?.665:.67,.08],rotation:[Math.PI/2,-Math.PI/9,0]}),Object(p.jsx)("mesh",{ref:S,geometry:E.joy001.geometry,material:E.joy001.material,position:[.24,.65,-.12],"rotation-x":g&&!x?Math.PI/2+.5:!g&&x?Math.PI/2-.5:Math.PI/2,"rotation-y":b&&!f?-Math.PI/9+.5:!b&&f?-Math.PI/9-.5:-Math.PI/9}),Object(p.jsx)("group",{position:[.11,.83,-.02],rotation:[Math.PI/2,.33,0]}),Object(p.jsxs)("mesh",{rotation:[0,Math.PI/2,0],position:[.05,.8,0],children:[Object(p.jsx)("planeGeometry",{args:[.4,.4]}),Object(p.jsx)("meshStandardMaterial",{color:"#585361"}),a&&Object(p.jsx)(m.a,{className:"content",rotation:[-.2,0,0],position:[-.15,.165,0],scale:.009,transform:!0,children:Object(p.jsx)("div",{className:"wrapper",children:Object(p.jsx)("iframe",{style:{width:"110%",height:"110%",margin:0,padding:0,border:0,top:0,left:0,borderRadius:"15%"},className:"relative w-full h-full",src:"https://flappybacon.netlify.app/",title:"W3Schools Free Online Web Tutorials"})})})]}),Object(p.jsxs)("mesh",{onClick:function(){r(!0)},geometry:E.screen01.geometry,position:[.11,.83,-.02],rotation:[Math.PI/2,-.34,0],children:[!a&&Object(p.jsx)("meshPhysicalMaterial",{clearcoat:1,clearcoatRoughness:0,toneMapped:!1,children:Object(p.jsx)("videoTexture",{attach:"map",args:[_],flipY:!1,repeat:[1,1],offset:[0,0],wrapT:u.RepeatWrapping,wrapS:u.RepeatWrapping,encoding:u.sRGBEncoding})}),a&&Object(p.jsx)("meshPhysicalMaterial",{thickness:5,roughness:.1,clearcoat:.9,clearcoatRoughness:1,transmission:1,ior:1,envMapIntensity:9,color:"#050505",attenuationTint:"#0096ff",attenuationDistance:.8})]})]}))}function g(e){var t=Object(n.useRef)(),a=Object(h.a)("/80s_Draco.glb"),r=a.nodes,o=a.materials;return Object(p.jsx)("group",Object(s.a)(Object(s.a)({ref:t},e),{},{dispose:null,children:Object(p.jsx)("mesh",{geometry:r.Island013.geometry,material:o["mt_palette_main.003"],position:[0,0,-5.54],scale:2.13})}))}function x(e){var t=Object(n.useRef)(),a=Object(h.a)("/mountains_Draco.glb"),r=a.nodes,o=a.materials;return Object(p.jsx)("group",Object(s.a)(Object(s.a)({ref:t},e),{},{dispose:null,children:Object(p.jsxs)("group",{rotation:[-Math.PI/2,0,0],children:[Object(p.jsxs)("group",{rotation:[Math.PI/2,0,0],children:[Object(p.jsx)("group",{scale:8,children:Object(p.jsx)("mesh",{geometry:r.Object_4.geometry,material:o["Material.001"]})}),Object(p.jsx)("group",{scale:8,children:Object(p.jsx)("mesh",{geometry:r.Object_6.geometry,material:o["Material.002"]})})]}),Object(p.jsxs)("group",{rotation:[Math.PI/2,0,0],position:[-15,0,0],children:[Object(p.jsx)("group",{scale:8,children:Object(p.jsx)("mesh",{geometry:r.Object_4.geometry,material:o["Material.001"]})}),Object(p.jsx)("group",{scale:8,children:Object(p.jsx)("mesh",{geometry:r.Object_6.geometry,material:o["Material.002"]})})]})]})}))}h.a.preload("/arcade_Draco.glb"),h.a.preload("/80s_Draco.glb"),h.a.preload("/mountains_Draco.glb");var y=a(18),v=a(25),w=a(45),M=["url","y","space","width","height","obj"];function P(e){var t=e.url,a=e.y,r=void 0===a?2500:a,o=e.space,i=void 0===o?1.8:o,j=e.width,l=void 0===j?.01:j,b=e.height,h=void 0===b?.05:b,m=e.obj,O=void 0===m?new u.Object3D:m,f=Object(c.a)(e,M),g=Object(n.useRef)(),x=Object(w.a)((function(){return k(t)}),[t]),y=x.gain,v=x.context,P=x.update,I=x.data;return Object(n.useEffect)((function(){return y.connect(v.destination),y.gain.value=.3,function(){return y.disconnect()}}),[y,v]),Object(d.d)((function(e){for(var t=P(),a=0;a<I.length;a++)O.position.set(a*l*i-I.length*l*i/2,I[a]/r,0),O.updateMatrix(),g.current.setMatrixAt(a,O.matrix);g.current.material.color.setHSL(t/500,.75,.75),g.current.instanceMatrix.needsUpdate=!0})),Object(p.jsxs)("instancedMesh",Object(s.a)(Object(s.a)({castShadow:!0,ref:g,args:[null,null,I.length]},f),{},{children:[Object(p.jsx)("planeGeometry",{args:[l,h]}),Object(p.jsx)("meshBasicMaterial",{toneMapped:!1})]}))}function k(e){return I.apply(this,arguments)}function I(){return(I=Object(v.a)(Object(y.a)().mark((function e(t){var a,r,n,o,c,i,s;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.arrayBuffer();case 5:return r=e.sent,n=new(window.AudioContext||window.webkitAudioContext),o=n.createBufferSource(),e.next=10,new Promise((function(e){return n.decodeAudioData(r,e)}));case 10:return o.buffer=e.sent,o.loop=!0,o.start(0),c=n.createGain(),(i=n.createAnalyser()).fftSize=64,o.connect(i),i.connect(c),s=new Uint8Array(i.frequencyBinCount),e.abrupt("return",{context:n,source:o,gain:c,data:s,update:function(){return i.getByteFrequencyData(s),s.avg=s.reduce((function(e,t){return e+t/s.length}),0)}});case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=["start","clicked"],A=new u.Vector3;function R(e){e.ready;var t=function(){var e={KeyW:"forward",KeyS:"backward",KeyA:"left",KeyD:"right",Space:"jump",KeyJ:"buttonB",KeyK:"buttonR",KeyL:"buttonG",Escape:"Escape",ArrowLeft:"left",ArrowUp:"forward",ArrowRight:"right",ArrowDown:"backward"},t=function(t){return e[t]},a=Object(n.useState)({forward:!1,backward:!1,left:!1,right:!1,jump:!1,buttonB:!1,buttonR:!1,buttonG:!1,Escape:!1}),r=Object(j.a)(a,2),o=r[0],c=r[1];return Object(n.useEffect)((function(){var e=function(e){c((function(a){return Object(s.a)(Object(s.a)({},a),{},Object(i.a)({},t(e.code),!0))}))},a=function(e){c((function(a){return Object(s.a)(Object(s.a)({},a),{},Object(i.a)({},t(e.code),!1))}))};return document.addEventListener("keydown",e),document.addEventListener("keyup",a),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",a)}}),[]),o},a=t(),r=a.forward,o=a.backward,c=a.left,u=a.right,b=a.jump,h=a.buttonB,m=a.buttonR,O=a.buttonG,y=a.Escape;Object(n.useEffect)((function(){y&&(R(!1),k(!1),C(!0))}),[r,o,c,u,b,h,m,O,y]);var v=Object(n.useState)(!1),w=Object(j.a)(v,2),M=w[0],k=w[1],I=Object(n.useState)(!1),S=Object(j.a)(I,2),A=S[0],R=S[1],B=Object(n.useState)(!1),E=Object(j.a)(B,2),z=E[0],C=E[1];return Object(p.jsxs)(d.a,{flat:!0,dpr:[1,2],camera:{fov:25,position:[0,0,8]},children:[Object(p.jsx)("color",{attach:"background",args:["#e63946"]}),Object(p.jsx)(n.Suspense,{fallback:null,children:Object(p.jsxs)("group",{position:[2.5,-.5,0],children:[Object(p.jsx)(P,{"position-z":-.5,url:"".concat("","/comping1.mp3")}),Object(p.jsx)(P,{"position-z":-.25,url:"".concat("","/synth.mp3")}),Object(p.jsx)(P,{"position-z":0,url:"".concat("","/snare.mp3")}),Object(p.jsx)(P,{"position-z":.25,url:"".concat("","/drums.mp3")})]})}),Object(p.jsx)("ambientLight",{}),Object(p.jsx)(l.a,{global:!0,zoom:.1,config:{mass:2,tension:500},snap:{mass:4,tension:1500},rotation:[0,-Math.PI/2,0],polar:[0,Math.PI/4],azimuth:[-Math.PI/4,Math.PI/4],children:Object(p.jsx)("group",{onClick:function(){R(!A)},"position-y":-.75,dispose:null,children:Object(p.jsx)(f,{keys:t(),_ready:M,_setReady:k,start:A,clicked:z})})}),Object(p.jsxs)("group",{rotation:[0,-Math.PI/2,0],children:[Object(p.jsxs)(n.Suspense,{fallback:null,children:[Object(p.jsx)(x,{position:[1,-.6,0],rotation:[0,0,0],scale:.8}),Object(p.jsx)(g,{position:[-5,-.1,0],rotation:[0,Math.PI/2,0],scale:.8})]}),Object(p.jsx)(_,{start:A,onClick:function(){C(!0)},rotation:[0,Math.PI/2,0],position:[0,-.1,.18]}),Object(p.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-.75,0],children:[Object(p.jsx)("planeGeometry",{args:[50,50]}),Object(p.jsx)("meshStandardMaterial",{color:"#023047"})]})]})]})}function _(e){var t=e.start,a=(e.clicked,Object(c.a)(e,S)),r=O(),o=Object(n.useRef)();return Object(d.d)((function(e){t?"PC"===r?(o.current.position.lerp(A.set(0,-.1,.18),.05),o.current.fontSize=1.25):(o.current.position.lerp(A.set(2.5,-.25,0),.05),o.current.fontSize=.5):(o.current.position.lerp(A.set(0,-.1,.18),.05),o.current.fontSize=1.25)})),Object(p.jsxs)(b.a,Object(s.a)(Object(s.a)({ref:o,font:"".concat("","/Inter-Bold.woff"),fontSize:1.25,letterSpacing:-.1},a),{},{children:["Arcade",Object(p.jsx)("meshStandardMaterial",{color:"#c9ffed"})]}))}function B(e){var t=e.children,a=O(),r=Object(n.useState)(!1),o=Object(j.a)(r,2),c=o[0],i=o[1];return Object(p.jsxs)(p.Fragment,{children:[c&&t,Object(p.jsx)("div",{className:'fullscreen bg ready"} '.concat(c&&"clicked"),children:Object(p.jsxs)("a",{onClick:function(){return i(!0)},children:[Object(p.jsx)("h1",{className:"close ".concat("PC"===a?"h1-text":"h1-text-mobile"),children:"<Click>"})," "]})})]})}var E=a(54);console.log("APP_URL",""),Object(r.render)(Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(B,{children:Object(p.jsx)(n.Suspense,{fallback:null,children:Object(p.jsx)(R,{})})}),Object(p.jsx)(E.a,{date:"30. May",year:"2022",link1:Object(p.jsx)("a",{href:"https://github.com/dayuan/Demo",children:"dayuan/Demo"}),link2:Object(p.jsx)("a",{href:"https://codesandbox.io/s/duo-ge-demotheatre-iphone-reflector-variant-pf-demo-forked-2x4mw7",children:"Code Lab"})}),Object(p.jsx)(o.a,{})]}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.fb252cb9.chunk.js.map